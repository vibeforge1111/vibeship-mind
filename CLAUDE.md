<!-- MIND:CONTEXT - Auto-generated by Mind. Do not edit. -->
## Memory: Active
Last captured: just now

## Session Context
Last active: just now

## Project State
- Stack: python
- Blocked: None

## Key (Never Forget)
- [D] stay file-based - that's our identity vs database-heavy competitors
- [D] remove daemon entirely - MCP handles everything lazily via mind_recall()
- [D] add SESSION
- [D] restructure SESSION

## Recent Decisions
- NOT to add: databases, embeddings, workflow commands, episodes, user model - too much friction (2025-12-13)
- add only necessary intelligence: recency scoring, KEY markers, session summaries, context budget, stack-aware edges (2025-12-13)
- enhance capture instructions with ideas from archived version - alternatives rejected, symptoms/theories, mood tracking, session end notes (2025-12-13)
- remove competitive comparison chart - felt too aggressive (2025-12-13)
- on 5-command install instead of multi-step guides (2025-12-13)

## Open Loops
- [!] Windows console doesn't support Unicode checkmarks (2025-12-13) - unresolved
- [!] README was too confusing for beginners (2025-12-13) - unresolved
- [!] s, platform configs) - stateless MCP is more reliable (2025-12-13) - unresolved

## Gotchas
- Windows cp1252 encoding -> use ASCII symbols or set PYTHONIOENCODING=utf-8
- uv sync removes unlisted packages

## Session History
- 2025-12-13: Added intelligence from archives: recency, KEY markers, session summaries, context budget, stack-aware edges | productive
- 2025-12-13: Fixed daemon bugs: async coroutine awaiting, Windows process detection with ctypes | debugging
- 2025-12-13: Migrated to Mind v2: daemon-free, MCP-only architecture | shipped
- 2025-12-13: Added within-session memory (SESSION.md) | productive
- 2025-12-13: Upgraded SESSION.md to goal-oriented structure | shipped

## Continue From
Last: File-based memory over database approach - simpler, human-readable, git-trackable
<!-- MIND:END -->

# CRITICAL: Call mind_recall() FIRST

**At the start of EVERY session, call `mind_recall()` before doing anything else.**

This loads fresh context, detects session gaps, and ensures you have the latest memory state. The MIND:CONTEXT above may be stale - `mind_recall()` gets live data.

## MCP Tools - When to Use

### Reading Tools
| Tool | When to Use |
|------|-------------|
| `mind_recall()` | **FIRST thing every session** - loads fresh context |
| `mind_session()` | Check current goal, approach, blockers |
| `mind_search(query)` | When MIND:CONTEXT doesn't have what you need |
| `mind_status()` | Check memory health |
| `mind_reminders()` | List pending reminders |

### Writing Tools (USE THESE PROACTIVELY!)
| Tool | When to Use |
|------|-------------|
| `mind_log(msg, type)` | **After every decision, learning, problem, or fix** |
| `mind_session_goal(goal)` | At start of task - what does success look like? |
| `mind_session_approach(text)` | When you decide how to tackle something |
| `mind_session_discovery(text)` | When you discover something useful |
| `mind_blocker(desc)` | When stuck - logs + auto-searches memory |

### Other Tools
| Tool | When to Use |
|------|-------------|
| `mind_remind(msg, when)` | User says "remind me..." |
| `mind_edges(intent)` | Before implementing risky code |
| `mind_checkpoint()` | Force process pending memories |
| `mind_add_global_edge()` | Found a cross-project gotcha |

---

# IMPORTANT: Use mind_log() as you work

**Don't write to files manually. Use the tools:**

```
mind_log("chose SvelteKit over Next.js - simpler routing", type="decision")
mind_log("Safari doesn't support :has() in older versions", type="learning")
mind_log("build failing with unclear error", type="problem")
mind_log("resolved build by updating vite config", type="progress")
```

**Call these proactively:**
- Made a choice? → `mind_log(..., type="decision")`
- Discovered something? → `mind_log(..., type="learning")`
- Hit a problem? → `mind_log(..., type="problem")`
- Fixed something? → `mind_log(..., type="progress")`

**At session start:**
- `mind_session_goal("User can upload images and see them in gallery")`
- `mind_session_approach("Using multer for uploads. Pivot if: memory issues")`

---

# CLAUDE.md - Mind

## Project Overview

Mind is a file-based memory system for AI coding assistants. The core insight: **The file is the memory. Mind is the lens.**

## Architecture

```
Source of truth: .mind/MEMORY.md (per project)
Session tracking: .mind/SESSION.md (goal, approach, blockers)
Context delivery: MIND:CONTEXT section in CLAUDE.md (auto-injected)
MCP: 8 tools (recall, session, blocker, search, edges, checkpoint, status, add_global_edge)
```

## Key Files

```
src/mind/
+-- cli.py           # CLI commands (init, add, list, status, etc.)
+-- parser.py        # Loose regex extraction from markdown/comments
+-- context.py       # MIND:CONTEXT generation
+-- detection.py     # Stack detection
+-- storage.py       # Projects registry
+-- templates.py     # File templates
+-- mcp/
    +-- server.py    # 8 MCP tools (stateless)
```

## Design Principles

1. **File is the memory** - MEMORY.md is source of truth
2. **Loose parsing** - Accept natural language, score confidence
3. **Auto context** - CLAUDE.md gets MIND:CONTEXT injected
4. **Multiple capture** - MEMORY.md, inline comments, git commits
5. **Zero friction** - No commands during/after work

## Parser Keywords

Decisions: decided, chose, going with, using, went with, settled on
Issues: problem, issue, bug, doesn't work, stuck on, blocked
Learnings: learned, discovered, realized, turns out, TIL, gotcha
Status: fixed, resolved, tried, blocked on

## Quick Syntax

```
MEMORY: decided X because Y
MEMORY: problem - X
MEMORY: learned - X
```

## Global vs Project Edges

- Global: Platform/language gotchas (via mind_add_global_edge)
- Project: In .mind/MEMORY.md Gotchas section

## Testing

```bash
uv run pytest tests/
```

## Running

```bash
# CLI
uv run mind <command>

# MCP Server (for Claude Code integration)
uv run mind mcp
```

## Memory

Append to `.mind/MEMORY.md` as you work on this project.
