<!-- MIND:CONTEXT - Auto-generated by Mind. Do not edit. -->
## Memory: Active
Last captured: just now

## Session Context
Last active: just now

## Project State
- Stack: python
- Blocked: None

## Key (Never Forget)
- [D] stay file-based - that's our identity vs database-heavy competitors

## Recent Decisions
- NOT to add: databases, embeddings, workflow commands, episodes, user model - too much friction (2025-12-13)
- add only necessary intelligence: recency scoring, KEY markers, session summaries, context budget, stack-aware edges (2025-12-13)
- enhance capture instructions with ideas from archived version - alternatives rejected, symptoms/theories, mood tracking, session end notes (2025-12-13)
- remove competitive comparison chart - felt too aggressive (2025-12-13)
- on 5-command install instead of multi-step guides (2025-12-13)

## Open Loops
- [!] Windows console doesn't support Unicode checkmarks (2025-12-13) - unresolved
- [!] README was too confusing for beginners (2025-12-13) - unresolved

## Gotchas
- Windows cp1252 encoding -> use ASCII symbols or set PYTHONIOENCODING=utf-8
- uv sync removes unlisted packages

## Session History
- 2025-12-13: Added intelligence from archives: recency, KEY markers, session summaries, context budget, stack-aware edges | productive
- 2025-12-13: Fixed daemon bugs: async coroutine awaiting, Windows process detection with ctypes | debugging

## Continue From
Last: File-based memory over database approach - simpler, human-readable, git-trackable
<!-- MIND:END -->

# IMPORTANT: Write memories as you work

Append to `.mind/MEMORY.md` throughout the conversation (not just at the end):

**Decisions** - when you choose something:
- `decided X because Y`
- `chose X over Y because Z`
- Include alternatives you rejected and why

**Problems** - when something breaks or blocks:
- `problem: X`
- `stuck on X`
- Add symptoms, what you've tried, current theory

**Learnings** - when you discover something:
- `learned that X`
- `TIL: X`
- `gotcha: X` (for things that will bite again)

**Progress** - when you fix or complete:
- `fixed X by doing Y`
- `resolved X`

**Session end** - before ending, note:
- What's still open
- What to do next
- Mood (frustrated/stuck/breakthrough/accomplished)

---

# CLAUDE.md - Mind

## Project Overview

Mind is a file-based memory system for AI coding assistants. The core insight: **The file is the memory. Mind is the lens.**

## Architecture

```
Source of truth: .mind/MEMORY.md (per project)
Context delivery: MIND:CONTEXT section in CLAUDE.md (auto-injected)
Daemon: Watches files, parses content, updates context
MCP: 4 tools (search, edges, add_global_edge, status)
```

## Key Files

```
src/mind/
â”œâ”€â”€ cli.py           # CLI commands (init, daemon, add, list, etc.)
â”œâ”€â”€ daemon.py        # Background file watcher + context updater
â”œâ”€â”€ watcher.py       # File system watching (watchfiles)
â”œâ”€â”€ parser.py        # Loose regex extraction from markdown/comments
â”œâ”€â”€ context.py       # MIND:CONTEXT generation
â”œâ”€â”€ indexer.py       # Search index (SQLite + embeddings)
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ sqlite.py    # Database (simplified schema)
â”‚   â””â”€â”€ embeddings.py # Vector search
â”œâ”€â”€ mcp/
â”‚   â””â”€â”€ server.py    # 4 MCP tools
â””â”€â”€ edges/
    â”œâ”€â”€ detector.py  # Edge detection logic
    â””â”€â”€ global_edges.py # Global edge storage
```

## Design Principles

1. **File is the memory** - MEMORY.md is source of truth
2. **Loose parsing** - Accept natural language, score confidence
3. **Auto context** - CLAUDE.md gets MIND:CONTEXT injected
4. **Multiple capture** - MEMORY.md, inline comments, git commits
5. **Zero friction** - No commands during/after work

## Parser Keywords

Decisions: decided, chose, going with, using, went with, settled on
Issues: problem, issue, bug, doesn't work, stuck on, blocked
Learnings: learned, discovered, realized, turns out, TIL, gotcha
Status: fixed, resolved, tried, blocked on

## Quick Syntax

```
MEMORY: decided X because Y
MEMORY: problem - X
MEMORY: learned - X
```

## Global vs Project Edges

- Global: Platform/language gotchas (via mind_add_global_edge)
- Project: In .mind/MEMORY.md Gotchas section

## Testing

```bash
uv run pytest tests/
```

## Running

```bash
# CLI
uv run mind <command>

# MCP Server
uv run mind mcp

# Daemon
uv run mind daemon start
```

## Memory

Append to `.mind/MEMORY.md` as you work on this project.
